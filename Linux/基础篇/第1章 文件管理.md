# 文件管理
## 1 文件目录操作

### touch 
创建文件
* filename 

### mkdir
创建目录
* dirname

### mv 
移动
* sourcefile destfile
* -r 递归

### cp
复制
* sourcefile destfile
* -r 递归

### rm
删除
* dirname/filename
* -r 递归删除
* -f 强制删除不弹出确认步骤

### cd
切换目录
* pathname

### pwd
显示当前绝对路径

### ls
查看目录
* [filename*] 能够使用通配符
* -a 所有文件，包括隐藏文件
* -l 长格式输出

### alias
别名
* newname=aimname

### wc
print newline, word, and byte counts for each file.输出文件内容的统计数。
* file or files name
* -c byte counts
* -m character counts
* -l newline counts
* -w word counts

## 2 查看文件内容
### cat
查看文件内容
* filename
* -n 显示行号

### more
查看文件内容
* filename

### head
查看文件前几行内容
* filename
* -10 显示前十行

### tail
查看文件后几行
* filename
* -10 显示文件后10行

## diff
对比两个文件之间的差别。
* file1 file2

## 3 查找文件名称

### find 
搜索目录，查找文件名。
* dirname
* -name keyword 指定字符串查找文件名，支持通配符。

> 这个命令还有很多更高级的用法，日后用到再说。直接man查看用法，这是个程序或者说软件。

### locate
搜索包含字符串的目录。
* stringname

### 4 查找文件内容

### grep
查找文件内容，根据文件内容进行匹配。
Global search Regular Expression and Print the line.
* pattern filename
* -i 不区分大小写
* -n 显示行号
* --color 高亮显示
* -c 只统计目标行数
* -o 只显示目标行的命中关键词
* -B 显示目标行之前的行
* -A 显示目标航之后的行
* -w 硬匹配到目标单词。
* -e 能够添加多个匹配项
* -E 表示支持扩展正则表达式
> 同find也是一个复杂的程序软件，日后用到查看说明文档。
```
grep -e "am" hello.txt
```
## 5 文件权限操作

### 查看文件属性
```
ls-al
-rw-r--r-- l root root 42304 Sep 4 18:26 install.log
```
* 文件类型 [-]普通文件[d]目录[l]连接文件[b]接口设备[c]串行端口设备
* 文件权限[rwx]分别代表拥有者、用户组、其他人的操作权限
* 表示多少文件名连接到这个节点
* 表示拥有者名字
* 表示用户组
* 文件容量
* 创建或者修改日期
* 文件名字

### chgrp
改变文件属性


```
chgrp [-R] groupname dirname/filename
chgrp users install.log
```
* -R 递归更改组


### chwon
```
chown [-R] ownername dirname/filename
chwon estom install.log
```
* -R 递归更改拥有者


### chmod
```
chmod [-R] xyz dirname/filename
chmod 777 install.log
chmod u/g/o/a +/-/= r/w/x dirname/filename
```
* -R 递归更改文件内容
* 1~7分别对应二进制文件权限
* ugoa 分别设置user,group,other,all的权限。

## 6 符号连接/硬连接

### ln
创建一个指向目标的连接。
* filename destname
* -s 符号连接
```
ln cc ccAgain :硬连接；删除一个，将仍能找到；
ln -s cc ccTo :符号链接(软链接)；删除源，另一个无法使用；（后面一个ccTo 为新建的文件）
```


## 7 目录配置说明

### 目录配置标准FHS

* /：根目录，与开机、还原、系统修复有关
* /bin：单用户维护模式下还能被操作的命令。
* /sbin：system系统用来开机修复还原系统所需要的命令
* /boot：开机会使用到的文件
* /dev：任何设备与接口设备都是以文件的形势存在于这个目录当中。
* /etc：系统主要配置文件目录。
* /home：用户文件夹
* /lib：放置系统运行过程中用到的函数库。
* /media：用于挂在可删除的设备DVD光盘等。
* /mnt：暂时挂在额外的设备
* /opt：第三方软件安装的目录。第三方软件习惯上放到/usr/local/目录下。
* /root：系统管理员的主文件夹
* /srv：service网络服务启动后用来存取数据的目录
* /tmp：一般用户或正在执行的程序暂时防止文件的地方，任何人都能访问，可以情理。
* /proc：虚拟文件系统，是内存的虚拟文件对应，能够查看内存装填，包括系统内核、进程、外部设备的状态以及网络状态。其对应内存空间，本身不占用任何硬盘空间。
* /sys：虚拟的文件系统，记录与内核相关的信息。包括目前已经加载到内核的模块与内核检测到的硬件设备信息。

### 特殊的目录配置
* /usr：可分享的不可变动的数据。UNIX Software Resource的缩写。所有的软件存在在这个目录下。
* /usr/bin：绝大部分用户可以直接使用的命令
* /usr/include：C/C++等程序语言的头文件与包含文件
* /usr/lib：包含软件的函数库、目标文件，以及一般用户惯用的执行文件和脚本


## 8 管道和重定向

* 批处理命令连接执行，使用 |
* 串联: 使用分号 ;
* 前面成功，则执行后面一条，否则，不执行:&&
* 前面失败，则后一条执行: ||

```
ls /proc && echo  suss! || echo failed
if ls /proc; then echo suss; else echo fail; fi
```
### 管道 |

表示第一个命令的输出可以作为第二个命令的输入。可以利用管道对前一个命令的输出进行处理、过滤、统计等。

```
find ./ | wc -l
```
wc 会把前一个命令的输出看做一个文件，然后输出这个文件的行数。所以能够显示./文件下的目录个数。

```
ls | cat -n
```
cat也会把前一个命令的输出，看做一个文件，然后对文件进行操作。

### 重定向> >>
将标准输出和标准错误重定向到一个文件当中。
```
> 覆盖文件内容
>> 添加新内容到结尾
ls  proc/*.c > list 2> &l 将标准输出和标准错误重定向到同一文件；
```

## 9 设置环境变量

1. 在/etc/profile文件中添加变量【对所有用户生效(永久的)】 
用VI在文件/etc/profile文件中增加变量，该变量将会对Linux下所有用户有效，并且是“永久的”。 

例如：编辑/etc/profile文件，添加CLASSPATH变量 

```
# vi /etc/profile 
export CLASSPATH=./JAVA_HOME/lib;$JAVA_HOME/jre/lib
```

注：修改文件后要想马上生效还要运行# source /etc/profile不然只能在下次重进此用户时生效。

2. 在用户目录下的.bash_profile文件中增加变量【对单一用户生效(永久的)】 
用VI在用户目录下的.bash_profile文件中增加变量，改变量仅会对当前用户有效，并且是“永久的”。 

例如：编辑guok用户目录(/home/guok)下的.bash_profile 

vi/home/guok/.bash.profile添加如下内容：exportCLASSPATH=./JAVAHOME/lib;JAVA_HOME/jre/lib 

注：修改文件后要想马上生效还要运行$ source /home/guok/.bash_profile不然只能在下次重进此用户时生效。

3. 直接运行export命令定义变量【只对当前shell(BASH)有效(临时的)】 
在shell的命令行下直接使用[export 变量名=变量值] 定义变量，

该变量只在当前的shell(BASH)或其子shell(BASH)下是有效的，

shell关闭了，变量也就失效了，再打开新shell时就没有这个变量，需要使用的话还需要重新定义。