# 通用工具

> 目录
> * pair和tuple
> * 智能指针
> * 数值极值
> * type trait 和type utility
> * 辅助函数
> * clock和timer
> * bitset
> * 随机数


## 1 pair和Tuple

## 1.1 pair
### 头文件
```
#include<utility>
```
### pair定义

![](2021-03-07-17-22-16.png)

### pair操作

![](2021-03-07-17-22-38.png)

## 1.2 tuple
### 头文件
```
#include<tuple>
```
### 定义
* 扩展pair的概念，拥有任意数量的元素。是一个异质的元素序列。
![](2021-03-07-17-29-36.png)

### 操作

![](2021-03-07-17-32-39.png)
```
tuple<int,float,string> t1{2,3.4,"yin"};
get<1>(t1);//获取t1的第一个元素
make_tuple(22,44,"helo");//元素类型自动推导
```

![](2021-03-07-17-33-43.png)

## 2 smart pointer 智能指针
## 3 极值

### 头文件
```
#include<limits>
```


### 使用

```
#include<limits>

using namespace std;

int main(){
    cout<<numeric_limits<short>::max()<<endl;//输出short类型最大值
}
```

## 4 type trait和type utility

## 5 辅助函数

### 最大最小值
```
#include<algorithm>
```
![](2021-03-07-17-47-32.png)

### 交换
```
#include<utility>
```
![](2021-03-07-17-48-43.png)

## 6 class ratio编译期分数

## 7 Clock和Timer

## 7.1 Chrono概览
> 相关术语：duration,timepoint,tick,epoch,lock,timer,date,time。chrono目标处理timer和clock在不同系统中更可能不同的问题。强化实践的精准度。

### 头文件

```
#include<chrono>//额外的是艰苦
```

### 术语
* duration时间段，某个时间单位上，tick数。
* timepoint时间点，duration和epoch（起始点）的组合。
* clock时钟，每个时钟都有自己的epoch（起始点——）

## 7.2 Duration时间段

### duration定义的时间单位
* duraton由一个数值和ratio（时间比例）共同组成。

```
// 时间单位*计数数量=持续时间
ratio * tick =duration
```
```
//自定义时间单位
std::chrono::duration<double,std::ratio<60>>

//定义好的时间单位
nanoseconds;
microseconds;
milliseconds;
seconds;
minutes;
hours;
//这些都是可以使用的duration常量

hours aDay(24);//表示一天的duration
```

### 算数运算
* 赋值初始化可以使得它在不同的时间单位之间，快速转换。
![](2021-03-07-21-42-10.png)

### 其他操作

![](2021-03-07-21-42-40.png)


## 7.3 Clock和Timepoint

### 定义
* Clock定义了一个epoch和一个tick周期。用来表示时间的起点和时间的计数方式。

* Timepoint某个特定的时间点。

### Clock时钟

![](2021-03-07-21-53-28.png)

### 系统提供了三个clock

1. system_clock。timepoint关联值现行的系统的及时时钟。包含函数to_time_t(),from_time_t()。可以与C的time_t进行转换
2. steady_clock。稳定前进
3. high_resolution_clock 带有最短tick周期的clock。

<!-- 过于复杂，不学了，干 -->
## 7.4 C、POSIX

### 头文件
```
#include<ctime>
```

### 常用操作

![](2021-03-07-19-28-19.png)

## 8 

## 9 随机数

### 头文件

```
#include<random>
```
### 随机数库的组成
![](2021-03-07-21-12-23.png)


### 随机数引擎的操作
![](2021-03-07-21-14-33.png)

* 编译器会自动选择一个随机数引擎作为default_random_engine的类型的引擎。
```
    default_random_engine e;
    cout<<e()<<endl;
```

### 随机数分布的操作

* 需要给默认的随机数引擎选择一个分布序列。
```
uniform_int_distribution<unsigned> u<0,9>;
default_random_engine e(323);//指定初始化的种子
e.seed(323);
```

![](2021-03-07-21-20-51.png)

* 常见的随机分布类型
```
uniform_real_distribution<>
```

## 10 C++的C兼容

### cstddef

![](2021-03-07-22-11-44.png)
### cstdlib

![](2021-03-07-22-12-19.png)

### csting

![](2021-03-07-22-12-27.png)