# 容器

## 1 简介
> 新标准库的容器壁使用原始的数组实现的数据结构要快很多。经过了精心的优化。


### 确定使用哪种容器

1. 除非有明确的理由，否则使用vector
2. 随机元素访问vector或deque
3. 容器中间插入或者插入元素list、forward_list
4. 头尾插入元素，使用deque
5. 可以在输入阶段随机插入的时候使用list，然后将复制好的放到vector中加速访问。

### C++ STL容器的实现

![](image/2021-03-06-15-39-37.png)

### C++ STL容器概览

![](image/2021-03-06-15-41-19.png)

## 2 所有容器的基础操作
### 容器统一的操作

![](image/2021-03-05-20-17-45.png)
![](image/2021-03-05-20-17-55.png)

主要包括六类
1. 构造函数和初始化(默认初始化、复制初始化、迭代器初始化、列表初始化)
2. 赋值与交换（c1=c2,c1={},assign,swap）
3. 容器大小（size,max_size,empty）
4. 插入删除（insert,emplace,erase，clear）
5. 关系运算符（六种关系）
6. 迭代器（八个迭代器begin,end,cbegin,cend,rbegin,rend,crbegin,crend）

### 容器的构造函数和初始化

![](image/2021-03-05-20-26-48.png)

### 容器的赋值和交换

![](image/2021-03-05-20-29-29.png)


### 容器大小

* size():返回容器中元素的数目
* empty():当size为0是返回true
* maxsize():返回容器所能容纳的最大元素数的值。

### 插入删除
* insert()插入对象
* emplace()元素初始化插入
* erase()删除指定元素
* clear()清空
### 关系运算符

* 容器支持相等和不等的运算。==  !=
* 除了无序关联容器，都支持关系运算(> < >= <=)
* 必须是相同各类型的容器，且元素类型相同才能比较。

## 3 容器的容量问题

### vector的存储

* vector将元素连续存储
* 容器会申请多余的内存空间以应对可能的元素增长。防止每次添加元素后，需要重新分配内存空间。性能会很慢。

### 管理容量的成员函数

![](image/2021-03-05-21-13-26.png)

