> nodejs最著名的地方，可能就是异步回调了吧。通过异步非阻塞的编程方式，通过回调函数，实现了通信。可以实现宏观上的单线程并发。

## ES6新特性
### let const

let const 都是块作用域。不是函数的作用域。或是对象作用域。

### 模板字符串

```
name = 'zhangsan'
age = 10
console.log(`${name}${age}`)
```

### 箭头函数

```
(err,data)={

}
```

## 2 异步方法获取数据

### 不能通过返回值获取异步方法中的数据

因为return语句执行的时候，内部的运算还没有结束。

### 通过回调函数获取异步方法中的数据

```
function getData(callback){
    //异步调用
    setTimeout(function(){
        var name = "zhangsan ";
        callback(name)
    },1000);
}

getData(function(aaa){
    console.log(aaa);
})
```

### 通过promise获取异步方法中的数据

promise添加回调方法。p.then调用的时候，复写回调方法。与之前的回调方法很相似。相当于promise代替了之前的getData方法，调用异步方法。
```
var p = new Promise(function(resolve,reject){
    //异步调用
    setTimeout(function(){
        var name = "zhangsan ";
        callback(name)
    },1000);
})

p.then(function(data){
    console.log(data);
})
```

### async、await和promise实现异步非阻塞通信

* async，想要同步必须返回promise类型
* await，等待异步方法执行完成
* promise,能够作为异步方法标记，await会等被标记为promise的异步方法执行完毕后，获取返回值。

```
async function test(){
    return new Promise((resolv,reject)=>{
        var name = "zhang san "
        resolve(name);
    },1000)
}

async function main(){
    var data = await test();
    console.log(data);
}

main
```



