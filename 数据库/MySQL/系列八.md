系列八条件语句在各个部分的应用更新，插入，删除记录的中的数据

**[sql]** [view plain](http://blog.csdn.net/estom_yin/article/details/52028857)
[copy](http://blog.csdn.net/estom_yin/article/details/52028857)

1.  \#第三十六课时

2.  \--条件更新

3.  **UPDATE** cms_user **SET** age = age - 3 **WHERE** username LIKE '____';

4.  \--更新前三条记录，让已有年龄+10

5.  **UPDATE** cms_user **SET** age = age +10 LIMIT 3;

6.  \--按照id降序排列

7.  **UPDATE** cms_user **SET** age = age +10 **ORDER** **BY** id **DESC** LIMIT
    3;

8.  \--条件删除

9.  **DELETE** **FROM** cms_user **WHERE** sex = 'man' **ORDER** **BY** age
    **DESC** LIMIT 3;

10. 

11. \#第三十七课时

12. \--连接查询

13. \--将两个或两个以上的表按某个条件链接起来，从中个选取出需要的数据

14. \--链接插叙是同时查询两个或两个以上的表时使用的。

15. \--当不同的表中存在相同意义的字段是，可以通过该字段链接这几个表

16. 

17. \--内连接查询

18. \--显示连个表中符合链接条件的记录

19. \--JOIN / CROSS JOIN / INNER JOIN

20. \--通过on连接条件

21. 

22. \--查询cms_user表中id，username

23. \--查询provinces表中，proName；

24. **SELECT** cms_user.id ,username ,proName **FROM** cms_user,provinces;

25. \--并不能实现想要的目的

26. 

27. 

28. \--cms_user的ProId对应省份表中的id,使用where第一次筛选，与内连接语句是等价的

29. **SELECT** cms_user.id ,username ,proName **FROM** cms_user,provinces

30. **WHERE** cms\_user.proId = provinces.id;

31. 

32. \--用内连接的方式把各个表中的相关信息统一为同一个表中的信息

33. \--查询cms_user表中的id,username,email,sex;

34. \--查询procinces表中的proName

35. **SELECT** u.id,u.username,u.email,u.sex,p.proName

36. **FROM** cms_user **AS** u

37. **INNER** JOIN provinces **AS** p

38. **ON** u.proId = p.id;

39. 

40. \--通过on连接条件

41. **SELECT** u.id,u.username,u.email,u.sex,p.proName

42. **FROM** cms_user **AS** u

43. CROSS JOIN provinces **AS** p

44. **ON** u.proId = p.id;

45. 

46. \--查询cms_user表中id，username,sex

47. \--查询procinces表中的proName

48. \--条件是cms_user 的性别是男的用户

49. \--根据p.proName进行分组GROUP

50. \--对分组结果进行二次筛选，跳出组中人数大于等于一的人。

51. **SELECT** u.id,u.username,u.email,u.sex,p.proName,COUNT(\*)**AS**
    totalUsers

52. **FROM** cms_user **AS** u

53. JOIN provinces **AS** p

54. **ON** u.proId = p.id

55. **WHERE** u.sex = 'man'

56. **GROUP** **BY** p.proName

57. **HAVING** COUNT(\*) \>= 1

58. **ORDER** **BY** u.id **ASC**

59. LIMIT 0,2;

60. 

61. \#第三十八课时

62. \--外联结查询

63. \--左外连接LEFT[OUTER]JOIN显示左全部记录及右表符合链接条件的记录

64. \--右外连接RIGHT[OUTER]JOIN显示右表全部记录及左表符合链接条件的记录

65. **SELECT** u.id,u.username,u.email,u.sex,p.proName,COUNT(\*)**AS**
    totalUsers

66. **FROM** cms_user **AS** u

67. LEFT JOIN provinces **AS** p

68. **ON** u.proId = p.id;

69. \--左外连接就是一左边的表为查询主表，从左边寻找满足条件要求的项，并在右表中找到对应的数据
