系列四数据表结构的相关操作

**[sql]** [view plain](http://blog.csdn.net/estom_yin/article/details/52028783)
[copy](http://blog.csdn.net/estom_yin/article/details/52028783)

1.  \#第十七课时修改表名称

2.  

3.  **CREATE** **TABLE** IF NOT EXISTS user10(

4.  id **SMALLINT** UNSIGNED **KEY** AUTO_INCREMENT,

5.  username **VARCHAR**(20) NOT NULL **UNIQUE**,

6.  **password** **CHAR**(32) NOT NULL ,

7.  email **VARCHAR**(50) NOT NULL **DEFAULT** '4646546@qq.com',

8.  age TINYINT UNSIGNED **DEFAULT** 18,

9.  sex ENUM('man','woman','secret') **DEFAULT** 'secret',

10. addr **VARCHAR**(200) NOT NULL **DEFAULT** 'beijing',

11. salary **float**(6,2),

12. regTime **INT** UNSIGNED,

13. face **CHAR**(100) NOT NULL **DEFAULT** 'default.jpg'

14. );

15. 

16. \--修改表名

17. \--ALTER TABEL tbl_name RENAME [TO\|AS] new_name;

18. \--RENAME TABLE tba\_name TO new_name;

19. 

20. **ALTER** **TABLE** user10 RENAME **TO** user11;

21. **ALTER** **TABLE** user11 RENAME **AS** user10;

22. **ALTER** **TABLE** user10 RENAME user11;

23. 

24. RENAME **TABLE** user11 **TO** user10;

25. RENAME **TABLE** user10 **TO** user11;

26. \--挺有意思的，感觉SQL语言有点规则，动作+类型+名称+附属操作

27. 

28. 

29. \#第十八课时添加和删除字段

30. 

31. \--添加或删除字段

32. **ALTER** TABEL tbl_name **ADD** 字段名称
    字段类型[完整性约束条件][**FIRST**\|**AFTER** 字段名称]

33. 

34. **ALTER** **TABLE** tbl_name **DROP** 字段名称

35. 

36. \--添加card字段char类型

37. **ALTER** **TABLE** user10 **ADD** card **CHAR**(18);

38. **ALTER** **TABLE** user10 **ADD** test1 **VARCHAR**(100) NOT NULL
    **UNIQUE**;

39. **ALTER** **TABLE** user10 **ADD** test2 **VARCHAR**(100) NOT NULL
    **UNIQUE** **FIRST**;

40. **ALTER** **TABLE** user10 **ADD** test3 **VARCHAR**(100) NOT NULL
    **DEFAULT** 100 **AFTER** **password**;

41. 

42. \--选中一次表完成多个操作

43. **ALTER** **TABLE** user10

44. 

45. **ADD** test4 **INT** NOT NULL **DEFAULT** 123 **AFTER** **password**,

46. **ADD** test5 **FLOAT**(6,2)**FIRST**,

47. **ADD** test6 **SET**('A','V','C');

48. 

49. \--删除某些字段

50. **ALTER** **TABLE** user10 **DROP** test1;

51. 

52. \--删除多个字段

53. **ALTER** **TABLE** user10

54. 

55. **DROP** test3,

56. **DROP** test4;

57. 

58. \--批量处理添加删除操作

59. **ALTER** **TABLE** user10

60. 

61. **ADD** test **INT** UNSIGNED NOT NULL **DEFAULT** 10 **AFTER** sex,

62. 

63. **DROP** addr;

64. 

65. \#第十九课时修改字段类型、完整性约束条件、位置和名称

66. 

67. \--modify修改完整性约束条件时，不能对默认值和主键进行操作。

68. 

69. **ALTER** **TABLE** tbl_name **MODIFY** 字段名称
    字段类型[完整性约束条件][**FIRST**\|**AFTER** 字段名称];

70. 

71. **ALTER** **TABLE** tbl_name CHANGE 旧的字段名称 新的字段名称 字段类型
    [完整性约束条件][**FIRST**\|**AFTER** 字段名称];

72. 

73. 

74. \--修改email的类型

75. **ALTER** **TABLE** user10 **MODIFY** email **VARCHAR**(200);

76. \--修改email的完整性约束条件

77. **ALTER** **TABLE** user10 **MODIFY** email **VARCHAR**(20) NOT NULL
    **DEFAULT** '1651656@qq.com';

78. \--修改email的位置

79. **ALTER** **TABLE** user10 **MODIFY** email **VARCHAR**(20) **AFTER** test;

80. \--使用change更换字段的相关属性

81. **ALTER** **TABLE** user10 CHANGE test test1 **CHAR**(32) NOT NULL
    **DEFAULT** '123' **FIRST**;

82. 

83. \#第二十课时

84. \--添加和删除默认值

85. **ALTER** **TABLE** tbl_name **ALTER** 字段名称 **SET** **DEFAULT** 默认值;

86. **ALTER** **TABLE** tbl_name **ALTER** 字段名称 **DROP** **DEFAULT**;

87. 

88. \#第二十一课时

89. \--添加主键删除主键

90. **ALTER** **TABLE** tbl_name **ADD** [**CONSTRAINT**[symbol]]**PRIMARY**
    **KEY**[index_type](字段名称)

91. 

92. **ALTER** **TABLE** tbl_name **DROP** **PRIMARY** **KEY**;

93. 

94. \--添加单主键

95. **ALTER** **TABLE** test10 **ADD** **PRIMARY** **KEY** (id);

96. \--添加复合主键

97. **ALTER** **TABLE** test13 **ADD** **PRIMARY** **KEY**(id, card);

98. \--完整表达形式

99. **ALTER** **TABLE** test12 **ADD** **CONSTRAINT** symbol **PRIMARY** **KEY**
    index_type(id);

100. 

101. \#第二十二课时

102. \--添加删除唯一索引

103. 

104. **ALTER** **TABLE** tbl_name **ADD** [**CONSTRAINT** [SYMPOL]] **UNIQUE**
    [**INDEX**\|**KEY**][索引名称](字段名称);

105. 

106. **ALTER** **TABLE** tbl_name **DROP** [**INDEX**\|**KEY**] index_name;

107. 

108. \--示例

109. **ALTER** **TABLE** user12 **ADD** **UNIQUE**(usename);

110. 

111. **ALTER** **TABLE** user12 **ADD** **CONSTRAINT** symple **UNIQUE** **KEY**
    uni_card(card);

112. 

113. LTER **TABLE** user12 **ADD** **CONSTRAINT** symple **UNIQUE** **INDEX**
    uni_test1_test2(test1,test2)

114. 

115. **ALTER** **TABLE** tbl_name **DROP** **INDEX** username;

116. **ALTER** **TABLE** tbl_name **DROP** **KEY** mulUni_test1_test2;

117. 

118. \--修改表的存储引擎

119. **ALTER** **TABLE** tbl_name ENGINE = 存储引擎名称;

120. \--修改表的引擎为MYISAM

121. **ALTER** **TABLE** test12 ENGINE = MYISAM;

122. 

123. \--设置自增长的值

124. **ALTER** **TABLE** tbl_name AUTO_INCREMEN = 值;

125. \--修改主键的自增长值为

126. **ALTER** **TABLE** user12 AUTO_INCREMENT = 100;

127. 

128. \#第二十三课时

129. \--删除数据表

130. **DROP** **TABLE** user12;

131. 

132. **DROP** **TABLE** IF EXISTS user11,user12,user14;

133. 

134. \--在打开MySQL的同时直接打开数据表

135. mysql -uroot -p -D maizi --promot = \\d\~\\D\~\\u\~\\h

136. \--查看打开的数据库

137. **SELECT** **DATABASE**();
